<?xml version="1.0" encoding="utf-8"?>
<Project xmlns="http://schemas.microsoft.com/developer/msbuild/2003">

  <!-- 🧱 Base Properties for All Projects in This Repo -->
  <PropertyGroup>
    <!-- Target -->
    <TargetFramework>net10.0</TargetFramework>
    <LangVersion>latest</LangVersion>
    <Nullable>enable</Nullable>
    <ImplicitUsings>enable</ImplicitUsings>

    <!-- Build Behavior -->
    <TreatWarningsAsErrors>false</TreatWarningsAsErrors>
    <WarningsAsErrors></WarningsAsErrors>
    <GenerateDocumentationFile>true</GenerateDocumentationFile>

    <!-- Code Style / Analysis -->
    <AnalysisMode>Recommended</AnalysisMode>
    <EnforceCodeStyleInBuild>true</EnforceCodeStyleInBuild>
    <Deterministic>true</Deterministic>

    <!-- Assembly Metadata -->
    <Company>ArchenaAI</Company>
    <Authors>Bernardo Estacio Abreu</Authors>
    <Product>ArchenaAI Semantic Kernel</Product>
    <Copyright>© 2025 ArchenaAI. All rights reserved.</Copyright>

    <!-- NuGet Configuration -->
    <PackageOutputPath>$(SolutionDir)\artifacts\packages</PackageOutputPath>
    <GeneratePackageOnBuild>false</GeneratePackageOnBuild>
    <IncludeSymbols>true</IncludeSymbols>
    <SymbolPackageFormat>snupkg</SymbolPackageFormat>
    <PackageRequireLicenseAcceptance>false</PackageRequireLicenseAcceptance>

    <!-- Source Link & Debug Info -->
    <PublishRepositoryUrl>true</PublishRepositoryUrl>
    <EmbedUntrackedSources>true</EmbedUntrackedSources>
    <DebugType>portable</DebugType>
    <DebugSymbols>true</DebugSymbols>

    <!-- Versioning -->
    <VersionPrefix>1.0.0</VersionPrefix>
    <VersionSuffix>alpha</VersionSuffix>
    <FileVersion>1.0.0.0</FileVersion>
    <InformationalVersion>1.0.0-alpha</InformationalVersion>
  </PropertyGroup>

  <!-- 🧩 Common Package References (applied automatically to all projects) -->
  <ItemGroup>
    <PackageReference Include="Microsoft.CodeAnalysis.FxCopAnalyzers" Version="3.3.2" PrivateAssets="All" />
    <PackageReference Include="Microsoft.SourceLink.GitHub" Version="8.0.0" PrivateAssets="All" />
  </ItemGroup>

  <!-- ⚙️ Test Projects Auto-Detection -->
  <PropertyGroup Condition="$(MSBuildProjectName.Contains('Tests'))">
    <IsPackable>false</IsPackable>
    <GenerateDocumentationFile>false</GenerateDocumentationFile>
    <DebugType>full</DebugType>
  </PropertyGroup>


  <!-- 🧪 Unit Testing Defaults -->
  <PropertyGroup Condition="$(MSBuildProjectName.Contains('Tests'))">
    <IsPackable>false</IsPackable>
    <GenerateDocumentationFile>false</GenerateDocumentationFile>
    <DebugType>full</DebugType>
  </PropertyGroup>



  <!-- 🧰 Common Output Directories -->
  <PropertyGroup>
    <OutputPath>$(SolutionDir)\artifacts\bin\$(MSBuildProjectName)\</OutputPath>
    <IntermediateOutputPath>$(SolutionDir)\artifacts\obj\$(MSBuildProjectName)\</IntermediateOutputPath>
  </PropertyGroup>

  <!-- 🧠 Custom Build Logic -->
  <Target Name="DisplayBuildInfo" BeforeTargets="BeforeBuild">
    <Message Text="🔧 Building $(MSBuildProjectName) ($(Configuration)) for $(TargetFramework)" Importance="High" />
  </Target>

</Project>
